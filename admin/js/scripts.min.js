/*! campi-moduli-italiani 2.1.0 */
jQuery(document).ready(function(b){"use strict";const d=wp.i18n["__"],u=(b("input[type=checkbox][id^='gcmi-']").prop("checked",!1),b("input[type=hidden][id^='gcmi-updated-']").each(function(i){"false"===b(this).val()&&(window.MySuffix=b(this).attr("id").substring("gcmi-updated-".length,b(this).attr("id").length),b("input[type=checkbox][id='gcmi-"+window.MySuffix+"']").prop("checked",!0))}),300);var p,t="";function e(){b("button[id^='gcmi-fb-delete-filter-']").attr("disabled","disabled"),b("button[id^='gcmi-fb-edit-filter-']").attr("disabled","disabled"),b("#gcmi-fb-addnew-filter").attr("disabled","disabled")}function n(){b("#gcmi-fb-tabs-2").empty(),b("#gcmi-fb-tabs-3").empty(),b("#gcmi-fb-tabs-4").empty(),b("#gcmi-fb-tabs-5").empty()}function o(){var i="<span>In attesa dei dati...</span>";b("#gcmi-spinner-blocks").removeClass("hidden"),b("#gcmi-fb-tabs-2").append(i),b("#gcmi-fb-tabs-3").append(i),b("#gcmi-fb-tabs-4").append(i),b("#gcmi-fb-tabs-5").append(i)}function r(){var i=b("#gcmi-fb-include-ceased").prop("checked");b.ajax({complete:function(){b("#gcmi-spinner-blocks").addClass("hidden")},data:{_ajax_nonce:gcmi_fb_obj.nonce,action:"gcmi_fb_requery_comuni",includi:i},dataType:"json",success:function(i){n(),b("#gcmi-fb-tabs-2").append(i.regioni_html),b("#gcmi-fb-tabs-3").append(i.province_html),b("#gcmi-fb-tabs-4").append(i.comuni_html),b("#gcmi-fb-tabs-5").append(i.commit_buttons)},type:"post",url:gcmi_fb_obj.ajax_url})}function g(i){var e=b("#gcmi-fb-include-ceased").prop("checked");b.ajax({complete:function(){b("#gcmi-spinner-blocks").addClass("hidden")},data:{_ajax_nonce:gcmi_fb_obj.nonce,action:"gcmi_fb_edit_filter",filtername:i,includi:e},dataType:"json",error:function(i){k(i,"RetrieveFilter")},success:function(i){n(),"true"===i.includi?b("input[type='checkbox'][id='gcmi-fb-include-ceased']").prop("checked",!0):b("input[type='checkbox'][id='gcmi-fb-include-ceased']").removeAttr("checked"),b("#gcmi-fb-tabs-2").append(i.regioni_html),b("#gcmi-fb-tabs-3").append(i.province_html),b("#gcmi-fb-tabs-4").append(i.comuni_html),b("#gcmi-fb-tabs-5").append(i.commit_buttons),b("#gcmi-fb-tabs-2 input[type=checkbox]:not(:checked)").not("[id^='fb-gcmi-chkall-']").each(function(){b(this).trigger("change")}),b("#gcmi-fb-tabs-3 input[type=checkbox]:not(:checked)").not("[id^='fb-gcmi-chkallpr-']").each(function(){b(this).trigger("change")}),b(".gcmi-fb-lettera-blocco").each(function(){b(this).find(":checkbox").not("[id^='fb-gcmi-chkallcom-']").first().trigger("change")})},type:"post",url:gcmi_fb_obj.ajax_url})}function h(){b.ajax({data:{_ajax_nonce:gcmi_fb_obj.nonce,action:"gcmi_fb_get_filters"},dataType:"json",success:function(i){b("#gcmi-fb-filters-container").html(""),b("#gcmi-fb-filters-container").append(i.data.filters_html)},type:"post",url:gcmi_fb_obj.ajax_url})}function a(){b("div[class^='gcmi-fb-lettera-blocco']").each(function(){var i=b(this);0===i.find("input[type=checkbox][id^='fb-gcmi-com-']:checked").length?i.hide():i.show()})}function f(i,e){var c=new jQuery.Deferred;return b("#gcmi-fb-dialog").html(i),b("#gcmi-fb-dialog").dialog({buttons:{Cancel:function(){b(this).dialog("close"),c.reject()},OK:function(){b(this).dialog("close"),c.resolve()}},height:240,modal:!0,resizable:!1,title:e}),c.promise()}function s(i,e){var c=new jQuery.Deferred;return b("#gcmi-fb-dialog").html(i),b("#gcmi-fb-dialog").dialog({buttons:{OK:function(){b(this).dialog("close"),c.resolve()}},height:240,modal:!0,resizable:!1,title:e}),c.promise()}function m(i,e,c,t=!1){var n,o,a,r,l,d,p,f,s,m;c.length>u?([a,r,l,d=!1]=[i,e,c,t],p=function(i,e){var c=[],t=0,n=[];for(t=0;t<i.length;t+=e)n=i.slice(t,t+e),c.push(n);return c}(l,u),f=p.length,s=0,m=l.length,l=p.map(async function(i,e){var c;return c=1e3,await new Promise(i=>setTimeout(i,c)),b.ajax({beforeSend:function(){b("#gcmi-spinner-blocks").hasClass("hidden")&&b("#gcmi-spinner-blocks").removeClass("hidden")},data:{_ajax_nonce:gcmi_fb_obj.nonce,action:"gcmi_fb_save_filter_slice",codici:i,filtername:r,includi:a,slice:e+1,total:f},dataType:"json",error:function(i){if(422===i.status)return this.tryCount+=1,this.tryCount<=this.retryLimit?void b.ajax(this):(b("#gcmi-spinner-blocks").addClass("hidden"),void k(i,"CreateFilter"));422!==i.status&&(b("#gcmi-spinner-blocks").addClass("hidden"),k(i))},retryLimit:3,success:function(i){s+=1},tryCount:0,type:"post",url:gcmi_fb_obj.ajax_url})}),b.when(...l).then(()=>{var i,e,c,t,n;f===s&&([i,e,c,t,n=!1]=[a,r,f,m,d],b.ajax({data:{_ajax_nonce:gcmi_fb_obj.nonce,action:"gcmi_fb_create_filter_multi",count:t,filtername:e,includi:i,total:c},dataType:"json",error:function(i){if(422===i.status)return this.tryCount+=1,this.tryCount<=this.retryLimit?void b.ajax(this):(b("#gcmi-spinner-blocks").addClass("hidden"),void k(i,!1===n?"CreateFilter":"TmpFilterFailed"));422!==i.status&&(b("#gcmi-spinner-blocks").addClass("hidden"),k(i,!1===n?"CreateFilter":"TmpFilterFailed"))},retryLimit:3,success:function(i){!1===n?(h(),b("#gcmi-fb-tabs").hide(),b("#gcmi-spinner-blocks").addClass("hidden")):(g(e),_("#fb_gcmi_filter_name",function(){b.ajax({complete:function(){b("#gcmi-spinner-blocks").addClass("hidden")},data:{_ajax_nonce:gcmi_fb_obj.nonce,action:"gcmi_fb_delete_filter",filtername:e},dataType:"json",error:function(i){console.log(i)},type:"post",url:gcmi_fb_obj.ajax_url})}))},tryCount:0,type:"post",url:gcmi_fb_obj.ajax_url}))})):(n=e,o=t,b.ajax({beforeSend:function(){b("#gcmi-spinner-blocks").removeClass("hidden")},complete:function(){b("#gcmi-spinner-blocks").addClass("hidden")},data:{_ajax_nonce:gcmi_fb_obj.nonce,action:"gcmi_fb_create_filter",codici:c,filtername:n,includi:i},dataType:"json",error:function(i){k(i,!1===o?"CreateFilter":"TmpFilterFailed")},success:function(i){!1===o?(h(),b("#gcmi-fb-tabs").hide()):(g(n),_("#fb_gcmi_filter_name",function(){b.ajax({data:{_ajax_nonce:gcmi_fb_obj.nonce,action:"gcmi_fb_delete_filter",filtername:n},dataType:"json",error:function(i){console.log(i)},type:"post",url:gcmi_fb_obj.ajax_url})}))},type:"post",url:gcmi_fb_obj.ajax_url}))}function _(i,e){b(i).length?e():setTimeout(function(){_(i,e)},100)}function k(i,e){var c,t="",n='<span class="ui-icon ui-icon-notice" style="float:left; margin:12px 12px 0 0;"></span>',o=n,a=0;switch(e){case"CreateFilter":t=d("Error while creating the filter","campi-moduli-italiani");break;case"RetrieveFilter":t=d("Data recovery error","campi-moduli-italiani");break;case"TmpFilterFailed":t=d("Error in creating the temporary filter","campi-moduli-italiani");break;default:t=d("Received a server error","campi-moduli-italiani")}if(i.responseJSON)for(c=i.responseJSON.data,a=0;a<c.length;a+=1)o=o+"<p><b>Err: "+c[a].code+"</b></p><p><i>"+c[a].message+"</i></p><p></p>";else o=n+"<p><b>"+d("Err: Error not defined","campi-moduli-italiani")+"</b></p>";switch(e){case"CreateFilter":return void b.when(s(o,t)).then(void b("#fb_gcmi_filter_name").trigger("focus"));case"TmpFilterFailed":return void b.when(s(o,t)).then(r())}}b.ajax({data:{_ajax_nonce:gcmi_fb_obj.nonce,action:"gcmi_fb_get_locale"},dataType:"json",error:function(i){p="unknown"},success:function(i){p=i.locale},type:"post",url:gcmi_fb_obj.ajax_url}),b("#gcmi-fb-tabs").hide(),b(document).on("click","#gcmi-fb-addnew-filter",function(){b("#gcmi-fb-tabs").show(),e(),n(),o(),b("input[type='checkbox'][id='gcmi-fb-include-ceased']").removeAttr("checked"),r()}),b(document).on("click","button[id^='gcmi-fb-edit-filter-']",function(){var i=b(this).attr("id").split("-").pop();t=i,b("#gcmi-fb-tabs").show(),e(),n(),o(),g(i),_("#fb_gcmi_filter_name",function(){b("#fb_gcmi_filter_name").val(t)})}),b(document).on("click","button[id^='gcmi-fb-delete-filter-']",function(){var e,i=b(this).attr("id").split("-").pop(),c=d("Confirm filter deletion","campi-moduli-italiani"),t=0,n='<span class="ui-icon ui-icon-alert" style="float:left; margin:12px 12px 20px 0;"></span><p>'+d("Do you really want to delete the filter: ","campi-moduli-italiani")+"<b>"+i+"</b>?</p>"+d("WARNING: This procedure cannot check if the filter is used in one or more of your modules.","campi-moduli-italiani");b.when(f(n,c)).then(function(){b.ajax({beforeSend:function(){b("#gcmi-spinner-blocks").removeClass("hidden")},complete:function(){b("#gcmi-spinner-blocks").addClass("hidden")},data:{action:"gcmi_fb_delete_filter",_ajax_nonce:gcmi_fb_obj.nonce,filtername:i},dataType:"json",error:function(i){for(c=d("Error when eliminating the filter","campi-moduli-italiani"),n='<span class="ui-icon ui-icon-notice" style="float:left; margin:12px 12px 0 0;"></span>',e=i.responseJSON.data,t=0;t<e.length;t+=1)n=n+"<p><b>"+d("Err: ","campi-moduli-italiani")+e[t].code+"</b></p><p><i>"+e[t].message+"</i></p><p></p>";b.when(s(n,c)).then(function(){})},success:function(i){h()},type:"post",url:gcmi_fb_obj.ajax_url})})}),b(document).on("click","#gcmi-fb-button-cancel",function(){var i=d("Confirm operation cancellation","campi-moduli-italiani"),e='<span class="ui-icon ui-icon-alert" style="float:left; margin:12px 12px 20px 0;"></span>'+d("Do you want to cancel the creation/modification of the filter?","campi-moduli-italiani");b.when(f(e,i)).then(function(){b("#gcmi-fb-tabs").hide(),b("button[id^='gcmi-fb-delete-filter-']").prop("disabled",!1),b("button[id^='gcmi-fb-edit-filter-']").prop("disabled",!1),b("#gcmi-fb-addnew-filter").prop("disabled",!1)},function(){})}),b(document).on("click","#gcmi-fb-button-save",function(){var i,e,c,t="",n="",o="",a="",r=!0,l=!1;event.preventDefault(),0===(i=b("#gcmi-fb-tabs-4").find("input[type=checkbox]:checked").not("[id^='fb-gcmi-chkallcom-']").map(function(){return b(this).val()}).get()).length?(t=d("Save error","campi-moduli-italiani"),n='<span class="ui-icon ui-icon-notice" style="float:left; margin:12px 12px 20px 0;"></span>'+d("No municipality has been selected to include in the filter.","campi-moduli-italiani"),b.when(s(n,t)).then(function(){b("#ui-id-4").trigger("click")})):""===(a=b("#fb_gcmi_filter_name").val())?(t=d("Save error","campi-moduli-italiani"),n='<span class="ui-icon ui-icon-notice" style="float:left; margin:12px 12px 20px 0;"></span>'+d("The filter name has not been indicated.","campi-moduli-italiani"),b.when(s(n,t)).then(function(){b("#fb_gcmi_filter_name").trigger("focus")})):20<a.length?(t=d("Save error","campi-moduli-italiani"),n='<span class="ui-icon ui-icon-notice" style="float:left; margin:12px 12px 20px 0;"></span>'+d("No more than 20 characters admitted for the filter name.","campi-moduli-italiani"),b.when(f(n,t)).then(function(){b("#fb_gcmi_filter_name").val(a.substring(0,20)),b("#fb_gcmi_filter_name").trigger("focus")})):(r=b("#gcmi-fb-include-ceased").prop("checked"),e=a,c=new RegExp(/[\x80-\xff]/g),!1===(o=(("string"==typeof e||e instanceof String)&&0!==e.length&&(e=e.trim(),0!==(e=(e=c.test(e)?function(i){var e="",c=0,t={"ª":"a","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"s","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ø":"O","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Ĉ":"C","ĉ":"c","Ċ":"C","ċ":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"D","đ":"d","Ē":"E","ē":"e","Ĕ":"E","ĕ":"e","Ė":"E","ė":"e","Ę":"E","ę":"e","Ě":"E","ě":"e","Ĝ":"G","ĝ":"g","Ğ":"G","ğ":"g","Ġ":"G","ġ":"g","Ģ":"G","ģ":"g","Ĥ":"H","ĥ":"h","Ħ":"H","ħ":"h","Ĩ":"I","ĩ":"i","Ī":"I","ī":"i","Ĭ":"I","ĭ":"i","Į":"I","į":"i","İ":"I","ı":"i","Ĳ":"IJ","ĳ":"ij","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","ĺ":"l","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ŀ":"L","ŀ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","ŉ":"n","Ŋ":"N","ŋ":"n","Ō":"O","ō":"o","Ŏ":"O","ŏ":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ŗ":"R","ŗ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ŝ":"S","ŝ":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ŧ":"T","ŧ":"t","Ũ":"U","ũ":"u","Ū":"U","ū":"u","Ŭ":"U","ŭ":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","ſ":"s","Ə":"E","ǝ":"e","Ș":"S","ș":"s","Ț":"T","ț":"t","€":"E","£":"","Ơ":"O","ơ":"o","Ư":"U","ư":"u","Ầ":"A","ầ":"a","Ằ":"A","ằ":"a","Ề":"E","ề":"e","Ồ":"O","ồ":"o","Ờ":"O","ờ":"o","Ừ":"U","ừ":"u","Ỳ":"Y","ỳ":"y","Ả":"A","ả":"a","Ẩ":"A","ẩ":"a","Ẳ":"A","ẳ":"a","Ẻ":"E","ẻ":"e","Ể":"E","ể":"e","Ỉ":"I","ỉ":"i","Ỏ":"O","ỏ":"o","Ổ":"O","ổ":"o","Ở":"O","ở":"o","Ủ":"U","ủ":"u","Ử":"U","ử":"u","Ỷ":"Y","ỷ":"y","Ẫ":"A","ẫ":"a","Ẵ":"A","ẵ":"a","Ẽ":"E","ẽ":"e","Ễ":"E","ễ":"e","Ỗ":"O","ỗ":"o","Ỡ":"O","ỡ":"o","Ữ":"U","ữ":"u","Ỹ":"Y","ỹ":"y","Ấ":"A","ấ":"a","Ắ":"A","ắ":"a","Ế":"E","ế":"e","Ố":"O","ố":"o","Ớ":"O","ớ":"o","Ứ":"U","ứ":"u","Ạ":"A","ạ":"a","Ậ":"A","ậ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ệ":"E","ệ":"e","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ộ":"O","ộ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ự":"U","ự":"u","Ỵ":"Y","ỵ":"y","ɑ":"a","Ǖ":"U","ǖ":"u","Ǘ":"U","ǘ":"u","Ǎ":"A","ǎ":"a","Ǐ":"I","ǐ":"i","Ǒ":"O","ǒ":"o","Ǔ":"U","ǔ":"u","Ǚ":"U","ǚ":"u","Ǜ":"U","ǜ":"u"};p.startsWith("de")?(t["Ä"]="Ae",t["ä"]="ae",t["Ö"]="Oe",t["ö"]="oe",t["Ü"]="Ue",t["ü"]="ue",t["ß"]="ss"):"da_DK"===p?(t["Æ"]="Ae",t["æ"]="ae",t["Ø"]="Oe",t["ø"]="oe",t["Å"]="Aa",t["å"]="aa"):"ca"===p?t["l·l"]="ll":"sr_RS"!==p&&"bs_BA"!==p||(t["Đ"]="DJ",t["đ"]="dj");for(c=0;c<i.length;c+=1)i.charAt(c)in t?e+=t[i.charAt(c)]:e+=i.charAt(c);return e}(e):e).toLowerCase().replace(/[^a-z0-9_\-]/g,"").replace(/-/g,"_").replace(/(_)\1+/g,"_").replace(/^_+/,"").replace(/_+$/,"")).length)&&e).substring(0,20))?(t=d("Save error","campi-moduli-italiani"),n='<span class="ui-icon ui-icon-notice" style="float:left; margin:12px 12px 20px 0;"></span>'+d("An invalid name for the filter was indicated.","campi-moduli-italiani"),b.when(s(n,t)).then(function(){b("#fb_gcmi_filter_name").trigger("focus")})):a!==o?(t=d("Save error","campi-moduli-italiani"),n='<span class="ui-icon ui-icon-notice" style="float:left; margin:12px 12px 20px 0;"></span>'+d("The value indicated for the filter name ","campi-moduli-italiani")+"<b>(<i>"+a+"</i>)</b>"+d("cannot be used.","campi-moduli-italiani")+"<br>"+d("Do you want to use: ","campi-moduli-italiani")+"<b>"+o+"</b> ?",b.when(f(n,t)).then(function(){b("#fb_gcmi_filter_name").val(o)})):(b(".gcmi-fb-filters-container").find("span.gcmi-fb-filters-name").map(function(){return b(this).text()}).get().forEach(function(i){o===i&&(l=!0)}),!0===l?(t="Sovrascrivi",n='<span class="ui-icon ui-icon-notice" style="float:left; margin:12px 12px 20px 0;"></span>'+d("You are overwriting the filter:","campi-moduli-italiani")+"<b><i>"+o+"</i></b>.<br>"+d("Do you want to continue?","campi-moduli-italiani"),b.when(f(n,t)).then(function(){m(r,o,i)})):m(r,o,i)))}),b("#gcmi-fb-tabs").tabs({active:0,classes:{"ui-tabs":"ui-corner-none","ui-tabs-nav":"ui-corner-none","ui-tabs-panel":"ui-corner-none","ui-tabs-tab":"ui-corner-none"},collapsible:!0,heightStyle:"content"}),b(document).on("change","input[type='checkbox'][id^='fb-gcmi-reg-']",function(){var i=b(this),e=b(this).attr("id").split("-").pop();!1===i.prop("checked")?(b("[id='fb-gcmi-chkallreg'").prop("checked",!1),b("#gcmi-fb-regione-blocco-"+e).find("input[type='checkbox'][id^=\"fb-gcmi-prov-\"]:checked").prop("checked",!1),b("#gcmi-fb-regione-blocco-"+e).find('input[type=checkbox][id^="fb-gcmi-prov-"]').trigger("change"),b("#gcmi-fb-regione-blocco-"+e).hide()):(b("#gcmi-fb-regione-blocco-"+e).find("input[type=checkbox][id^='fb-gcmi-prov-']:not(:checked)").prop("checked",!0),b("#gcmi-fb-regione-blocco-"+e).find("input[type=checkbox][id^='fb-gcmi-prov-']").trigger("change"),b("#gcmi-fb-regione-blocco-"+e).show(),b("[id='gcmi-fb-regioni-container").find("input[type=checkbox][id^=fb-gcmi-reg-]:checked").length===b("[id='gcmi-fb-regioni-container'").find("input[type=checkbox][id^=fb-gcmi-reg-]").length&&b("[id='fb-gcmi-chkallreg").prop("checked",!0))}),b(document).on("change","input[type='checkbox'][id^='fb-gcmi-prov-']",function(){var i=b(this),e=b(this).attr("id").split("-").pop(),c=b(this).parent().attr("class").split("-").pop();!1===i.prop("checked")?(b("[id='fb-gcmi-chkallpr-"+c+"'").prop("checked",!1),b("[name^='gcmi-com-cod-pro-"+e+"'").find("input[type=checkbox]:checked").prop("checked",!1),b("[name^='gcmi-com-cod-pro-"+e+"'").hide(),a()):(b("[name^='gcmi-com-cod-pro-"+e+"'").show(),b("[name^='gcmi-com-cod-pro-"+e+"'").find("input[type=checkbox]:not(:checked)").prop("checked",!0),a(),b("[id='gcmi-fb-regione-blocco-"+c+"'").find("input[type=checkbox][id^=fb-gcmi-prov-]:checked").length===b("[id='gcmi-fb-regione-blocco-"+c+"'").find("input[type=checkbox][id^=fb-gcmi-prov-]").length&&b("[id='fb-gcmi-chkallpr-"+c+"'").prop("checked",!0))}),b(document).on("change","input[type='checkbox'][id^='fb-gcmi-com-']",function(){var i=Array.from(b("label[for='"+this.name+"']").text())[0];b("[id='fb-gcmi-chkallcom-"+i+"'").prop("checked",!1),b("[id='gcmi-fb-lettera-blocco-"+i+"'").find("input[type=checkbox][id^=fb-gcmi-com-]:visible:checked").length===b("[id='gcmi-fb-lettera-blocco-"+i+"'").find("input[type=checkbox][id^=fb-gcmi-com-]:visible").length&&b("[id='fb-gcmi-chkallcom-"+i+"'").prop("checked",!0)}),b(document).on("change","input[type='checkbox'][id='fb-gcmi-chkallreg']",function(){!1===b(this).prop("checked")?b("input[type='checkbox'][id^='fb-gcmi-reg-']").each(function(){b(this).prop("checked",!1).trigger("change")}):b("input[type='checkbox'][id^='fb-gcmi-reg-']").each(function(){b(this).prop("checked",!0).trigger("change")})}),b(document).on("change","input[type='checkbox'][id^='fb-gcmi-chkallpr-']",function(){var i=b(this),e=b(this).attr("id").split("-").pop();!1===i.prop("checked")?b("#gcmi-fb-regione-blocco-"+e).find("input[type=checkbox]:checked").not("[id^='fb-gcmi-chkallpr-']").prop("checked",!1):b("#gcmi-fb-regione-blocco-"+e).find("input[type=checkbox]:not(:checked)").not("[id^='fb-gcmi-chkallpr-']").prop("checked",!0),b("#gcmi-fb-regione-blocco-"+e).find("input[type=checkbox]").not("[id^='fb-gcmi-chkallpr-']").trigger("change")}),b(document).on("change","input[type='checkbox'][id^='fb-gcmi-chkallcom-']",function(){var i=b(this),e=b(this).attr("id").split("-").pop();!1===i.prop("checked")?b("#gcmi-fb-lettera-blocco-"+e).find("input[type=checkbox]:checked:visible").not("[id^='fb-gcmi-chkallcom-']").prop("checked",!1):b("#gcmi-fb-lettera-blocco-"+e).find("input[type=checkbox]:not(:checked):visible").not("[id^='fb-gcmi-chkallcom-']").prop("checked",!0)}),b(document).on("change","input[type='checkbox'][id='gcmi-fb-include-ceased']",function(){var i,e="tmp_"+(new Date).getTime(),c=b("#gcmi-fb-include-ceased").prop("checked");event.preventDefault(),t=b("#fb_gcmi_filter_name").val(),i=b("#gcmi-fb-tabs-4").find("input[type=checkbox]:checked").not("[id^='fb-gcmi-chkallcom-']").map(function(){return b(this).val()}).get(),n(),o(),m(c,e,i,!0),_("#fb_gcmi_filter_name",function(){b("#fb_gcmi_filter_name").val(t)})})});